---
categories:
- posts
date: 2015-05-06T00:00:00Z
title: resolv.conf and google nameservers
url: /2015/05/06/resolv-conf-google-nameservers/
---

Something broke my laptop's `NetworkManager`. At first I wasn't sure what was
happening. The usual reboot trick didn't work. Resetting the network also didn't
work. Once I resigned myself to actually reading the error messages (and
googling them on my phone), it wasn't difficult to trace the problem back to
DNS. Specifically, I had no DNS. This is what my `/etc/resolv.conf` looked like:

    # Generated by NetworkManager

This is what it *used to* look like (`/etc/resolv.conf.tmp`):

    # Generated by NetworkManager
    nameserver 10.0.0.1

Residential network troubleshooters will recognize that particular nameserver as
the one running on the overworked little router sitting between you and your
ISP. I don't know why (or how) [`NetworkManager`][arch-wiki-netman] did that to
my `/etc/resolv.conf` but I *do* know that I didn't care to find out. My first
priority was to restore DNS.

Did you know google runs nameservers that just anyone use? I did. After I
[read about it][arch-wiki-netconf].


Then, I made my `/etc/resolv.conf` look like this:

    # Generated by NetworkManager
    nameserver 8.8.8.8
    nameserver 8.8.4.4

which fixed literally everything that was wrong with my DNS. Thanks, google.

Then, I followed a link to [a page about `dnsmasq`][arch-wiki-dnsmasq], which
got me really excited about setting up my own `dnsmasq` local service. Then, I
realized that I have more pressing things to do with my time---like writing
about my little successes in my blog.

[arch-wiki-netconf]:https://wiki.archlinux.org/index.php/Network_configuration
[arch-wiki-dnsmasq]:https://wiki.archlinux.org/index.php/Dnsmasq
[arch-wiki-netman]:https://wiki.archlinux.org/index.php/NetworkManager
